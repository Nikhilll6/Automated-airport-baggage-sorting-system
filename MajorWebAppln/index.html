<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>CNV2 Airlines - Check Baggage Status</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(-10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    .animate-fadeIn {
      animation: fadeIn 0.5s ease-in-out;
    }
  </style>
</head>
<body>
  <div id="root"></div>

  <script type="module">
    import { createElement as h, useState } from 'https://esm.sh/react@18.3.1';
    import { createRoot } from 'https://esm.sh/react-dom@18.3.1/client';

    const channelID = "3096944";
    const readAPIKey = "TGGRI5GRJJF658B0";

    function Icon({ d, ...props }) {
      return h('svg', { xmlns: 'http://www.w3.org/2000/svg', width: 24, height: 24, viewBox: '0 0 24 24', fill: 'none', stroke: 'currentColor', strokeWidth: 2, strokeLinecap: 'round', strokeLinejoin: 'round', ...props },
        h('path', { d })
      );
    }

    function App() {
      const [code, setCode] = useState('');
      const [result, setResult] = useState(null);
      const [error, setError] = useState('');
      const [loading, setLoading] = useState(false);

      async function checkStatus() {
        setResult(null);
        setError('');

        const trimmedCode = code.trim();
        if (!trimmedCode) {
          setError("Please enter a passenger code.");
          return;
        }
        setLoading(true);

        try {
                   const url = `https://api.thingspeak.com/channels/${channelID}/feeds.json?api_key=${readAPIKey}&results=50`;

          const response = await fetch(url);
          const data = await response.json();
          const feeds = data.feeds;

          const found = feeds.reverse().find(f => f.field1 === trimmedCode.toString());

          if (found) {
            setResult({
              code: found.field1,
              destination: found.field2 || "N/A",
              status: found.field3 || "N/A"
              

            });
          } else {
            setError("Code not found yet!");
          }
        } catch (err) {
          setError("Error fetching data from ThingSpeak.");
          console.error(err);
        } finally {
          setLoading(false);
        }
      }

      function handleKeyPress(e) {
        if (e.key === 'Enter') {
          checkStatus();
        }
      }

      return h('div', { className: 'min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-slate-900' },
        h('header', { className: 'bg-white/10 backdrop-blur-md border-b border-white/20' },
          h('div', { className: 'max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6' },
            h('div', { className: 'flex items-center justify-between' },
              h('div', { className: 'flex items-center space-x-3' },
                h('div', { className: 'bg-blue-500 p-2 rounded-lg' },
                  h(Icon, { d: 'M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z', className: 'w-8 h-8 text-white' })
                ),
                h('div', null,
                  h('h1', { className: 'text-3xl font-bold text-white' }, 'CNV2 Airlines'),
                  h('p', { className: 'text-blue-200 text-sm' }, 'Your Journey, Our Priority')
                )
              ),
              h('div', { className: 'hidden md:flex items-center space-x-6 text-white' },
                h('a', { href: '#', className: 'hover:text-blue-300 transition' }, 'Flights'),
                h('a', { href: '#', className: 'hover:text-blue-300 transition' }, 'Destinations'),
                h('a', { href: '#', className: 'hover:text-blue-300 transition' }, 'Support')
              )
            )
          )
        ),
        h('div', { className: 'relative overflow-hidden' },
          h('div', { className: "absolute inset-0 bg-[url('https://images.pexels.com/photos/46148/aircraft-jet-landing-cloud-46148.jpeg?auto=compress&cs=tinysrgb&w=1920')] bg-cover bg-center opacity-20" }),
          h('div', { className: 'relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16' },
            h('div', { className: 'text-center mb-12' },
              h('h2', { className: 'text-5xl font-bold text-white mb-4' }, 'Track Your Baggage'),
              h('p', { className: 'text-xl text-blue-200' }, 'Real-time baggage tracking for peace of mind')
            ),
            h('div', { className: 'max-w-2xl mx-auto' },
              h('div', { className: 'bg-white rounded-2xl shadow-2xl p-8' },
                h('div', { className: 'flex items-center space-x-3 mb-6' },
                  h(Icon, { d: 'M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z', className: 'w-8 h-8 text-blue-600' }),
                  h('h3', { className: 'text-2xl font-bold text-gray-800' }, 'Check Baggage Status')
                ),
                h('div', { className: 'space-y-4' },
                  h('div', { className: 'relative' },
                    h('input', {
                      type: 'text',
                      value: code,
                      onChange: (e) => setCode(e.target.value),
                      onKeyPress: handleKeyPress,
                      placeholder: 'Please enter 4-digit luggagage Code',
                      className: 'w-full px-4 py-4 text-lg border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none transition'
                    }),
                    h(Icon, { d: 'M11 11a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm0 0 7 7M3 21l7-7', className: 'absolute right-4 top-1/2 -translate-y-1/2 w-6 h-6 text-gray-400', style: { pointerEvents: 'none' } })
                  ),
                  h('button', {
                    onClick: checkStatus,
                    disabled: loading,
                    className: 'w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-4 px-6 rounded-lg transition duration-200 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed'
                  }, loading ? 'Searching...' : 'Check Status')
                ),
                result && h('div', { className: 'mt-6 p-6 bg-green-50 border-2 border-green-200 rounded-lg animate-fadeIn' },
                  h('div', { className: 'flex items-center space-x-2 mb-4' },
                    h(Icon, { d: 'm9 12 2 2 4-4M7.835 4.697a3.42 3.42 0 0 0 1.946-.806 3.42 3.42 0 0 1 4.438 0 3.42 3.42 0 0 0 1.946.806 3.42 3.42 0 0 1 3.138 3.138 3.42 3.42 0 0 0 .806 1.946 3.42 3.42 0 0 1 0 4.438 3.42 3.42 0 0 0-.806 1.946 3.42 3.42 0 0 1-3.138 3.138 3.42 3.42 0 0 0-1.946.806 3.42 3.42 0 0 1-4.438 0 3.42 3.42 0 0 0-1.946-.806 3.42 3.42 0 0 1-3.138-3.138 3.42 3.42 0 0 0-.806-1.946 3.42 3.42 0 0 1 0-4.438 3.42 3.42 0 0 0 .806-1.946 3.42 3.42 0 0 1 3.138-3.138z', className: 'w-6 h-6 text-green-600' }),
                    h('h4', { className: 'text-xl font-bold text-green-800' }, 'Baggage Found')
                  ),
                  h('div', { className: 'space-y-3' },
                    h('div', { className: 'flex items-center space-x-3' },
                      h('span', { className: 'font-semibold text-gray-700' }, 'Code:'),
                      h('span', { className: 'text-gray-900 text-lg' }, result.code)
                    ),
                    h('div', { className: 'flex items-center space-x-3' },
                      h(Icon, { d: 'M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0m-8-2a2 2 0 1 0 0 4 2 2 0 0 0 0-4', className: 'w-5 h-5 text-gray-600' }),
                      h('span', { className: 'font-semibold text-gray-700' }, 'Destination:'),
                      h('span', { className: 'text-gray-900 text-lg' }, result.destination)
                    ),
                    h('div', { className: 'flex items-center space-x-3' },
                      h(Icon, { d: 'M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z', className: 'w-5 h-5 text-gray-600' }),
                      h('span', { className: 'font-semibold text-gray-700' }, 'Status:'),
                      h('span', { className: 'text-gray-900 text-lg font-semibold' }, result.status)
                    )
                  )
                ),
                error && h('div', { className: 'mt-6 p-4 bg-red-50 border-2 border-red-200 rounded-lg' },
                  h('p', { className: 'text-red-700 font-semibold text-center' }, error)
                )
              )
            )
          )
        ),
        h('div', { className: 'bg-white py-16' },
          h('div', { className: 'max-w-7xl mx-auto px-4 sm:px-6 lg:px-8' },
            h('h3', { className: 'text-3xl font-bold text-center text-gray-800 mb-12' }, 'Why Choose CNV2 Airlines'),
            h('div', { className: 'grid md:grid-cols-3 gap-8' },
              h('div', { className: 'text-center p-6' },
                h('div', { className: 'bg-blue-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4' },
                  h(Icon, { d: 'M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z', className: 'w-8 h-8 text-blue-600' })
                ),
                h('h4', { className: 'text-xl font-bold text-gray-800 mb-2' }, 'Real-Time Tracking'),
                h('p', { className: 'text-gray-600' }, 'Track your baggage in real-time from check-in to arrival')
              ),
              h('div', { className: 'text-center p-6' },
                h('div', { className: 'bg-blue-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4' },
                  h(Icon, { d: 'm9 12 2 2 4-4M7.835 4.697a3.42 3.42 0 0 0 1.946-.806 3.42 3.42 0 0 1 4.438 0 3.42 3.42 0 0 0 1.946.806 3.42 3.42 0 0 1 3.138 3.138 3.42 3.42 0 0 0 .806 1.946 3.42 3.42 0 0 1 0 4.438 3.42 3.42 0 0 0-.806 1.946 3.42 3.42 0 0 1-3.138 3.138 3.42 3.42 0 0 0-1.946.806 3.42 3.42 0 0 1-4.438 0 3.42 3.42 0 0 0-1.946-.806 3.42 3.42 0 0 1-3.138-3.138 3.42 3.42 0 0 0-.806-1.946 3.42 3.42 0 0 1 0-4.438 3.42 3.42 0 0 0 .806-1.946 3.42 3.42 0 0 1 3.138-3.138z', className: 'w-8 h-8 text-blue-600' })
                ),
                h('h4', { className: 'text-xl font-bold text-gray-800 mb-2' }, 'Secure Handling'),
                h('p', { className: 'text-gray-600' }, 'Your belongings are handled with utmost care and security')
              ),
              h('div', { className: 'text-center p-6' },
                h('div', { className: 'bg-blue-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4' },
                  h(Icon, { d: 'M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0m-8-2a2 2 0 1 0 0 4 2 2 0 0 0 0-4', className: 'w-8 h-8 text-blue-600' })
                ),
                h('h4', { className: 'text-xl font-bold text-gray-800 mb-2' }, 'Global Coverage'),
                h('p', { className: 'text-gray-600' }, 'Track your baggage across destinations worldwide')
              )
            )
          )
        ),
        h('div', { className: 'relative h-96 overflow-hidden' },
          h('div', { className: "absolute inset-0 bg-[url('https://images.pexels.com/photos/358319/pexels-photo-358319.jpeg?auto=compress&cs=tinysrgb&w=1920')] bg-cover bg-center" }),
          h('div', { className: 'absolute inset-0 bg-black/40' }),
          h('div', { className: 'relative h-full flex items-center justify-center' },
            h('div', { className: 'text-center text-white' },
              h('h3', { className: 'text-4xl font-bold mb-4' }, 'Fly with Confidence'),
              h('p', { className: 'text-xl' }, 'Experience seamless travel with CNV2 Airlines')
            )
          )
        ),
        h('footer', { className: 'bg-slate-900 text-white py-8' },
          h('div', { className: 'max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center' },
            h('div', { className: 'flex items-center justify-center space-x-2 mb-4' },
              h(Icon, { d: 'M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z', className: 'w-6 h-6' }),
              h('span', { className: 'text-xl font-bold' }, 'CNV2 Airlines')
            ),
            h('p', { className: 'text-gray-400' }, 'Â© 2025 CNV2 Airlines. All rights reserved.')
          )
        )
      );
    }
    createRoot(document.getElementById('root')).render(h(App));
  </script>
</body>
</html>